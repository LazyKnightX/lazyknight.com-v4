---
title: 记录玩家已经阅读的游戏公告、为游戏公告显示红点
date: 2024-1-23 15:12:53 +0800
tags: [游戏UI开发]
---
预设游戏内最多同时展现5个公告，每一个公告的ID不同。
只给每个玩家5个整数储存位(INT8)。

需求：
1. 读取已读状态
2. 交互后储存已读状态

思路：
1. 获取玩家已经阅读的公告ID
2. 遍历当前游戏内展现的公告ID
3. 将那些没有阅读的公告添加上红点

显示红点：
```
已读 = {}

循环 i = 1, 5:
    id = 读取玩家储存位("已读公告ID", i)
    已读[id] = true

循环 i = 1, 5:
    id = 获取游戏公告ID(i)
    if 已读[id]:
        显示公告红点(id)
```

点击某个公告后记录清除红点状态：
```
公告被点击(id):
    清除公告红点(id)
    已读[id] = true
    
    list = {}
    循环 i = 1, 5:
        id2 = 获取游戏公告ID(i)
        if 已读[id2]:
            添加ID(list, id2)
    
    循环 i = 1, 5:
        id3 = list[i]
        if id3:
            储存玩家储存位(i, id3)
        else:
            储存玩家储存位(i, 0)
```