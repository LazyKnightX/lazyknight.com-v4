---
title: 魔兽3异步排查
date: 2025-9-21 04:25:29 +0800
tags: [war3, async]
---

导致魔兽3异步的情况：

1. 必现 - 在异步函数内获取随机数。
2. 偶现 - 对 `jass.globals` 中的句柄变量直接赋值，会导致句柄内存位置溢出。
3. 偶现 - 通过Lua瞬时频繁调用Jass触发，但数据源在Lua侧。【？】
4. 偶现 - 通过Lua侧调用 `EXSetAbilityDataString` 修改技能物编数据。
5. 必现 - 异步删除/添加单位技能。
